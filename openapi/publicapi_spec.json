{
  "openapi" : "3.0.1",
  "info" : {
    "description" : "GOV.UK Pay API",
    "title" : "GOV.UK Pay API",
    "version" : "1.0.3"
  },
  "servers" : [ {
    "url" : "https://publicapi.payments.service.gov.uk"
  } ],
  "tags" : [ {
    "name" : "Card payments"
  }, {
    "name" : "Refunding card payments"
  } ],
  "paths" : {
    "/v1/payments" : {
      "get" : {
        "description" : "Search payments by reference, state, 'from' and 'to' date. The Authorisation token needs to be specified in the 'authorization' header as 'authorization: Bearer YOUR_API_KEY_HERE'",
        "operationId" : "Search payments",
        "parameters" : [ {
          "description" : "Your payment reference to search (exact match, case insensitive)",
          "in" : "query",
          "name" : "reference",
          "schema" : {
            "type" : "string"
          }
        }, {
          "description" : "The user email used in the payment to be searched",
          "in" : "query",
          "name" : "email",
          "schema" : {
            "type" : "string"
          }
        }, {
          "description" : "State of payments to be searched. Example=success",
          "example" : "success",
          "in" : "query",
          "name" : "state",
          "schema" : {
            "type" : "string",
            "enum" : [ "created", "started", "submitted", "success", "failed", "cancelled", "error" ]
          }
        }, {
          "description" : "Card brand used for payment. Example=master-card",
          "in" : "query",
          "name" : "card_brand",
          "schema" : {
            "type" : "string"
          }
        }, {
          "description" : "From date of payments to be searched (this date is inclusive). Example=2015-08-13T12:35:00Z",
          "in" : "query",
          "name" : "from_date",
          "schema" : {
            "type" : "string"
          }
        }, {
          "description" : "To date of payments to be searched (this date is exclusive). Example=2015-08-14T12:35:00Z",
          "in" : "query",
          "name" : "to_date",
          "schema" : {
            "type" : "string"
          }
        }, {
          "description" : "Page number requested for the search, should be a positive integer (optional, defaults to 1)",
          "in" : "query",
          "name" : "page",
          "schema" : {
            "type" : "string"
          }
        }, {
          "description" : "Number of results to be shown per page, should be a positive integer (optional, defaults to 500, max 500)",
          "in" : "query",
          "name" : "display_size",
          "schema" : {
            "type" : "string"
          }
        }, {
          "description" : "Name on card used to make payment",
          "in" : "query",
          "name" : "cardholder_name",
          "schema" : {
            "type" : "string"
          }
        }, {
          "description" : "First six digits of the card used to make payment",
          "in" : "query",
          "name" : "first_digits_card_number",
          "schema" : {
            "type" : "string"
          }
        }, {
          "description" : "Last four digits of the card used to make payment",
          "in" : "query",
          "name" : "last_digits_card_number",
          "schema" : {
            "type" : "string"
          }
        }, {
          "description" : "From settled date of payment to be searched (this date is inclusive). Example=2015-08-13",
          "in" : "query",
          "name" : "from_settled_date",
          "schema" : {
            "type" : "string"
          }
        }, {
          "description" : "To settled date of payment to be searched (this date is inclusive). Example=2015-08-14",
          "in" : "query",
          "name" : "to_settled_date",
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/PaymentSearchResults"
                }
              }
            },
            "description" : "OK"
          },
          "401" : {
            "description" : "Credentials are required to access this resource"
          },
          "422" : {
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/PaymentError"
                }
              }
            },
            "description" : "Invalid parameters: from_date, to_date, status, display_size. See Public API documentation for the correct data formats"
          },
          "429" : {
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            },
            "description" : "Too many requests"
          },
          "500" : {
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/PaymentError"
                }
              }
            },
            "description" : "Downstream system error"
          }
        },
        "security" : [ {
          "BearerAuth" : [ ]
        } ],
        "summary" : "Search payments",
        "tags" : [ "Card payments" ]
      },
      "post" : {
        "description" : "Create a new payment for the account associated to the Authorisation token. The Authorisation token needs to be specified in the 'authorization' header as 'authorization: Bearer YOUR_API_KEY_HERE'",
        "operationId" : "Create a payment",
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/CreateCardPaymentRequest"
              }
            }
          },
          "description" : "requestPayload",
          "required" : true
        },
        "responses" : {
          "201" : {
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/CreatePaymentResult"
                }
              }
            },
            "description" : "Created"
          },
          "400" : {
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/PaymentError"
                }
              }
            },
            "description" : "Bad request"
          },
          "401" : {
            "description" : "Credentials are required to access this resource"
          },
          "422" : {
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/PaymentError"
                }
              }
            },
            "description" : "Invalid attribute value: description. Must be less than or equal to 255 characters length"
          },
          "429" : {
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            },
            "description" : "Too many requests"
          },
          "500" : {
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/PaymentError"
                }
              }
            },
            "description" : "Downstream system error"
          }
        },
        "security" : [ {
          "BearerAuth" : [ ]
        } ],
        "summary" : "Create new payment",
        "tags" : [ "Card payments" ]
      }
    },
    "/v1/payments/{paymentId}" : {
      "get" : {
        "description" : "Return information about the payment The Authorisation token needs to be specified in the 'authorization' header as 'authorization: Bearer YOUR_API_KEY_HERE'",
        "operationId" : "Get a payment",
        "parameters" : [ {
          "description" : "Payment identifier",
          "example" : "hu20sqlact5260q2nanm0q8u93",
          "in" : "path",
          "name" : "paymentId",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/GetPaymentResult"
                }
              }
            },
            "description" : "OK"
          },
          "401" : {
            "description" : "Credentials are required to access this resource"
          },
          "404" : {
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/PaymentError"
                }
              }
            },
            "description" : "Not found"
          },
          "429" : {
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            },
            "description" : "Too many requests"
          },
          "500" : {
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/PaymentError"
                }
              }
            },
            "description" : "Downstream system error"
          }
        },
        "security" : [ {
          "BearerAuth" : [ ]
        } ],
        "summary" : "Find payment by ID",
        "tags" : [ "Card payments" ]
      }
    },
    "/v1/payments/{paymentId}/cancel" : {
      "post" : {
        "description" : "Cancel a payment based on the provided payment ID and the Authorisation token. The Authorisation token needs to be specified in the 'authorization' header as 'authorization: Bearer YOUR_API_KEY_HERE'. A payment can only be cancelled if it's in a state that isn't finished.",
        "operationId" : "Cancel a payment",
        "parameters" : [ {
          "description" : "Payment identifier",
          "example" : "hu20sqlact5260q2nanm0q8u93",
          "in" : "path",
          "name" : "paymentId",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "204" : {
            "description" : "No Content"
          },
          "400" : {
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/PaymentError"
                }
              }
            },
            "description" : "Cancellation of payment failed"
          },
          "401" : {
            "description" : "Credentials are required to access this resource"
          },
          "404" : {
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/PaymentError"
                }
              }
            },
            "description" : "Not found"
          },
          "409" : {
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/PaymentError"
                }
              }
            },
            "description" : "Conflict"
          },
          "429" : {
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            },
            "description" : "Too many requests"
          },
          "500" : {
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/PaymentError"
                }
              }
            },
            "description" : "Downstream system error"
          }
        },
        "security" : [ {
          "BearerAuth" : [ ]
        } ],
        "summary" : "Cancel payment",
        "tags" : [ "Card payments" ]
      }
    },
    "/v1/payments/{paymentId}/capture" : {
      "post" : {
        "description" : "Capture a payment based on the provided payment ID and the Authorisation token. The Authorisation token needs to be specified in the 'authorization' header as 'authorization: Bearer YOUR_API_KEY_HERE'. A payment can only be captured if it's in 'submitted' state",
        "operationId" : "Capture a payment",
        "parameters" : [ {
          "description" : "Payment identifier",
          "example" : "hu20sqlact5260q2nanm0q8u93",
          "in" : "path",
          "name" : "paymentId",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "204" : {
            "description" : "No Content"
          },
          "400" : {
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/PaymentError"
                }
              }
            },
            "description" : "Capture of payment failed"
          },
          "401" : {
            "description" : "Credentials are required to access this resource"
          },
          "404" : {
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/PaymentError"
                }
              }
            },
            "description" : "Not found"
          },
          "409" : {
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/PaymentError"
                }
              }
            },
            "description" : "Conflict"
          },
          "429" : {
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            },
            "description" : "Too many requests"
          },
          "500" : {
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/PaymentError"
                }
              }
            },
            "description" : "Downstream system error"
          }
        },
        "security" : [ {
          "BearerAuth" : [ ]
        } ],
        "summary" : "Capture payment",
        "tags" : [ "Card payments" ]
      }
    },
    "/v1/payments/{paymentId}/events" : {
      "get" : {
        "description" : "Return payment events information about a certain payment The Authorisation token needs to be specified in the 'authorization' header as 'authorization: Bearer YOUR_API_KEY_HERE'",
        "operationId" : "Get events for a payment",
        "parameters" : [ {
          "description" : "Payment identifier",
          "example" : "hu20sqlact5260q2nanm0q8u93",
          "in" : "path",
          "name" : "paymentId",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/PaymentEvents"
                }
              }
            },
            "description" : "OK"
          },
          "401" : {
            "description" : "Credentials are required to access this resource"
          },
          "404" : {
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/PaymentError"
                }
              }
            },
            "description" : "Not found"
          },
          "429" : {
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            },
            "description" : "Too many requests"
          },
          "500" : {
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/PaymentError"
                }
              }
            },
            "description" : "Downstream system error"
          }
        },
        "security" : [ {
          "BearerAuth" : [ ]
        } ],
        "summary" : "Return payment events by ID",
        "tags" : [ "Card payments" ]
      }
    },
    "/v1/payments/{paymentId}/refunds" : {
      "get" : {
        "description" : "Return refunds for a payment. The Authorisation token needs to be specified in the 'authorization' header as 'authorization: Bearer YOUR_API_KEY_HERE'",
        "operationId" : "Get all refunds for a payment",
        "parameters" : [ {
          "in" : "path",
          "name" : "paymentId",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/RefundForSearchResult"
                }
              }
            },
            "description" : "OK"
          },
          "401" : {
            "description" : "Credentials are required to access this resource"
          },
          "404" : {
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/PaymentError"
                }
              }
            },
            "description" : "Not found"
          },
          "429" : {
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            },
            "description" : "Too many requests"
          },
          "500" : {
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/PaymentError"
                }
              }
            },
            "description" : "Downstream system error"
          }
        },
        "security" : [ {
          "BearerAuth" : [ ]
        } ],
        "summary" : "Get all refunds for a payment",
        "tags" : [ "Refunding card payments" ]
      },
      "post" : {
        "description" : "Return issued refund information. The Authorisation token needs to be specified in the 'authorization' header as 'authorization: Bearer YOUR_API_KEY_HERE'",
        "operationId" : "Submit a refund for a payment",
        "parameters" : [ {
          "in" : "path",
          "name" : "paymentId",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/PaymentRefundRequest"
              }
            }
          },
          "description" : "requestPayload",
          "required" : true
        },
        "responses" : {
          "200" : {
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/Refund"
                }
              }
            },
            "description" : "successful operation"
          },
          "202" : {
            "description" : "ACCEPTED"
          },
          "401" : {
            "description" : "Credentials are required to access this resource"
          },
          "404" : {
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/PaymentError"
                }
              }
            },
            "description" : "Not found"
          },
          "412" : {
            "description" : "Refund amount available mismatch"
          },
          "429" : {
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            },
            "description" : "Too many requests"
          },
          "500" : {
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/PaymentError"
                }
              }
            },
            "description" : "Downstream system error"
          }
        },
        "security" : [ {
          "BearerAuth" : [ ]
        } ],
        "summary" : "Submit a refund for a payment",
        "tags" : [ "Refunding card payments" ]
      }
    },
    "/v1/payments/{paymentId}/refunds/{refundId}" : {
      "get" : {
        "description" : "Return payment refund information by Refund ID The Authorisation token needs to be specified in the 'authorization' header as 'authorization: Bearer YOUR_API_KEY_HERE'",
        "operationId" : "Get a payment refund",
        "parameters" : [ {
          "in" : "path",
          "name" : "paymentId",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        }, {
          "in" : "path",
          "name" : "refundId",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/Refund"
                }
              }
            },
            "description" : "OK"
          },
          "401" : {
            "description" : "Credentials are required to access this resource"
          },
          "404" : {
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/PaymentError"
                }
              }
            },
            "description" : "Not found"
          },
          "429" : {
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            },
            "description" : "Too many requests"
          },
          "500" : {
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/PaymentError"
                }
              }
            },
            "description" : "Downstream system error"
          }
        },
        "security" : [ {
          "BearerAuth" : [ ]
        } ],
        "summary" : "Find payment refund by ID",
        "tags" : [ "Refunding card payments" ]
      }
    },
    "/v1/refunds" : {
      "get" : {
        "description" : "Search refunds by 'from' and 'to' date. The Authorisation token needs to be specified in the 'authorization' header as 'authorization: Bearer YOUR_API_KEY_HERE'",
        "operationId" : "Search refunds",
        "parameters" : [ {
          "description" : "From date of refunds to be searched (this date is inclusive). Example=2015-08-13T12:35:00Z",
          "in" : "query",
          "name" : "from_date",
          "schema" : {
            "type" : "string"
          }
        }, {
          "description" : "To date of refunds to be searched (this date is exclusive). Example=2015-08-14T12:35:00Z",
          "in" : "query",
          "name" : "to_date",
          "schema" : {
            "type" : "string"
          }
        }, {
          "description" : "From settled date of refund to be searched (this date is inclusive). Example=2015-08-13",
          "in" : "query",
          "name" : "from_settled_date",
          "schema" : {
            "type" : "string"
          }
        }, {
          "description" : "To settled date of refund to be searched (this date is inclusive). Example=2015-08-13",
          "in" : "query",
          "name" : "to_settled_date",
          "schema" : {
            "type" : "string"
          }
        }, {
          "description" : "Page number requested for the search, should be a positive integer (optional, defaults to 1)",
          "in" : "query",
          "name" : "page",
          "schema" : {
            "type" : "string"
          }
        }, {
          "description" : "Number of results to be shown per page, should be a positive integer (optional, defaults to 500, max 500)",
          "in" : "query",
          "name" : "display_size",
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/RefundSearchResults"
                }
              }
            },
            "description" : "OK"
          },
          "401" : {
            "description" : "Credentials are required to access this resource"
          },
          "422" : {
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/RefundError"
                }
              }
            },
            "description" : "Invalid parameters. See Public API documentation for the correct data formats"
          },
          "500" : {
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/RefundError"
                }
              }
            },
            "description" : "Downstream system error"
          }
        },
        "security" : [ {
          "BearerAuth" : [ ]
        } ],
        "summary" : "Search refunds",
        "tags" : [ "Refunding card payments" ]
      }
    }
  },
  "components" : {
    "schemas" : {
      "Address" : {
        "type" : "object",
        "description" : "A structure representing the billing address of a card",
        "properties" : {
          "city" : {
            "type" : "string",
            "example" : "address city",
            "maxLength" : 255,
            "minLength" : 0
          },
          "country" : {
            "type" : "string",
            "example" : "GB"
          },
          "line1" : {
            "type" : "string",
            "example" : "address line 1",
            "maxLength" : 255,
            "minLength" : 0
          },
          "line2" : {
            "type" : "string",
            "example" : "address line 2",
            "maxLength" : 255,
            "minLength" : 0
          },
          "postcode" : {
            "type" : "string",
            "example" : "AB1 2CD",
            "maxLength" : 25,
            "minLength" : 0
          }
        }
      },
      "AuthorisationSummary" : {
        "type" : "object",
        "description" : "Object containing information about the authentication of the payment.",
        "properties" : {
          "three_d_secure" : {
            "$ref" : "#/components/schemas/ThreeDSecure"
          }
        }
      },
      "CardDetails" : {
        "type" : "object",
        "description" : "A structure representing the payment card",
        "properties" : {
          "billing_address" : {
            "$ref" : "#/components/schemas/Address"
          },
          "card_brand" : {
            "type" : "string",
            "example" : "Visa",
            "readOnly" : true
          },
          "card_type" : {
            "type" : "string",
            "description" : "The card type, `credit` or `null` if not able to determine",
            "enum" : [ "credit", "null" ],
            "example" : "credit",
            "readOnly" : true
          },
          "cardholder_name" : {
            "type" : "string",
            "example" : "Mr. Card holder"
          },
          "expiry_date" : {
            "type" : "string",
            "description" : "The expiry date of the card in MM/yy format",
            "example" : "04/24",
            "readOnly" : true
          },
          "first_digits_card_number" : {
            "type" : "string",
            "example" : "123456",
            "readOnly" : true
          },
          "last_digits_card_number" : {
            "type" : "string",
            "example" : "1234",
            "readOnly" : true
          }
        }
      },
      "CreateCardPaymentRequest" : {
        "type" : "object",
        "description" : "The Payment Request Payload",
        "properties" : {
          "amount" : {
            "type" : "integer",
            "format" : "int32",
            "description" : "amount in pence",
            "example" : 12000,
            "maximum" : 10000000,
            "minimum" : 0
          },
          "delayed_capture" : {
            "type" : "boolean",
            "description" : "delayed capture flag",
            "example" : false
          },
          "description" : {
            "type" : "string",
            "description" : "payment description",
            "example" : "New passport application",
            "maxLength" : 255,
            "minLength" : 0
          },
          "email" : {
            "type" : "string",
            "description" : "email",
            "example" : "Joe.Bogs@example.org"
          },
          "language" : {
            "type" : "string",
            "description" : "ISO-639-1 Alpha-2 code of a supported language to use on the payment pages",
            "enum" : [ "en", "cy" ],
            "example" : "en"
          },
          "metadata" : {
            "$ref" : "#/components/schemas/ExternalMetadata"
          },
          "moto" : {
            "type" : "boolean",
            "description" : "Mail Order / Telephone Order (MOTO) payment flag",
            "example" : false
          },
          "prefilled_cardholder_details" : {
            "$ref" : "#/components/schemas/PrefilledCardholderDetails"
          },
          "reference" : {
            "type" : "string",
            "description" : "payment reference",
            "example" : "12345",
            "maxLength" : 255,
            "minLength" : 0
          },
          "return_url" : {
            "type" : "string",
            "description" : "service return url",
            "example" : "https://service-name.gov.uk/transactions/12345",
            "maxLength" : 2000,
            "minLength" : 0
          }
        },
        "required" : [ "amount", "description", "reference", "return_url" ]
      },
      "CreatePaymentResult" : {
        "type" : "object",
        "properties" : {
          "_links" : {
            "$ref" : "#/components/schemas/PaymentLinks"
          },
          "amount" : {
            "type" : "integer",
            "format" : "int64",
            "description" : "The amount in pence.",
            "example" : 1200
          },
          "card_details" : {
            "$ref" : "#/components/schemas/CardDetails"
          },
          "created_date" : {
            "type" : "string",
            "description" : "The date you created the payment.",
            "example" : "2016-01-21T17:15:00Z"
          },
          "delayed_capture" : {
            "type" : "boolean",
            "description" : "Whether to [delay capturing](https://docs.payments.service.gov.uk/optional_features/delayed_capture/) this payment.",
            "example" : false,
            "readOnly" : true
          },
          "description" : {
            "type" : "string",
            "description" : "The human-readable description you gave the payment.",
            "example" : "New passport application"
          },
          "email" : {
            "type" : "string",
            "description" : "The email address of your user.",
            "example" : "citizen@example.org"
          },
          "language" : {
            "type" : "string",
            "description" : "Which language your users will see on the payment pages when they make a payment.",
            "enum" : [ "en", "cy" ],
            "example" : "en"
          },
          "metadata" : {
            "$ref" : "#/components/schemas/ExternalMetadata"
          },
          "moto" : {
            "type" : "boolean",
            "description" : "Mail Order / Telephone Order (MOTO) payment flag.",
            "example" : false
          },
          "payment_id" : {
            "type" : "string",
            "description" : "The unique identifier of the payment.",
            "example" : "hu20sqlact5260q2nanm0q8u93"
          },
          "payment_provider" : {
            "type" : "string",
            "example" : "worldpay"
          },
          "provider_id" : {
            "type" : "string",
            "description" : "The reference number the payment gateway associated with the payment.",
            "example" : "null"
          },
          "reference" : {
            "type" : "string",
            "description" : "The reference number you associated with this payment.",
            "example" : "12345"
          },
          "refund_summary" : {
            "$ref" : "#/components/schemas/RefundSummary"
          },
          "return_url" : {
            "type" : "string",
            "description" : "An HTTPS URL on your site that your user will be sent back to once they have completed their payment attempt on GOV.UK Pay.",
            "example" : "https://service-name.gov.uk/transactions/12345"
          },
          "settlement_summary" : {
            "$ref" : "#/components/schemas/PaymentSettlementSummary"
          },
          "state" : {
            "$ref" : "#/components/schemas/PaymentState"
          }
        }
      },
      "EmbeddedRefunds" : {
        "type" : "object",
        "properties" : {
          "refunds" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/Refund"
            }
          }
        }
      },
      "ErrorResponse" : {
        "type" : "object",
        "description" : "An error response",
        "properties" : {
          "code" : {
            "type" : "string",
            "example" : "P0900"
          },
          "description" : {
            "type" : "string",
            "example" : "Too many requests"
          }
        }
      },
      "ExternalMetadata" : {
        "type" : "object",
        "example" : "{\"property1\": \"value1\", \"property2\": \"value2\"}\"",
        "properties" : {
          "metadata" : {
            "type" : "object",
            "additionalProperties" : {
              "type" : "object"
            }
          }
        }
      },
      "GetPaymentResult" : {
        "type" : "object",
        "properties" : {
          "_links" : {
            "$ref" : "#/components/schemas/PaymentLinks"
          },
          "amount" : {
            "type" : "integer",
            "format" : "int64",
            "example" : 1200
          },
          "authorisation_summary" : {
            "$ref" : "#/components/schemas/AuthorisationSummary"
          },
          "card_brand" : {
            "type" : "string",
            "deprecated" : true,
            "description" : "Card Brand. Deprecated, please use card_details.card_brand instead",
            "example" : "Visa",
            "readOnly" : true
          },
          "card_details" : {
            "$ref" : "#/components/schemas/CardDetails"
          },
          "corporate_card_surcharge" : {
            "type" : "integer",
            "format" : "int64",
            "example" : 250,
            "readOnly" : true
          },
          "created_date" : {
            "type" : "string",
            "example" : "2016-01-21T17:15:000Z",
            "readOnly" : true
          },
          "delayed_capture" : {
            "type" : "boolean",
            "description" : "delayed capture flag",
            "example" : false,
            "readOnly" : true
          },
          "description" : {
            "type" : "string",
            "example" : "Your Service Description"
          },
          "email" : {
            "type" : "string",
            "example" : "your email"
          },
          "fee" : {
            "type" : "integer",
            "format" : "int64",
            "description" : "processing fee taken by the GOV.UK Pay platform, in pence. Only available depending on payment service provider",
            "example" : 5,
            "readOnly" : true
          },
          "language" : {
            "type" : "string",
            "enum" : [ "en", "cy" ],
            "example" : "en"
          },
          "metadata" : {
            "$ref" : "#/components/schemas/ExternalMetadata"
          },
          "moto" : {
            "type" : "boolean",
            "description" : "Mail Order / Telephone Order (MOTO) payment flag",
            "example" : false
          },
          "net_amount" : {
            "type" : "integer",
            "format" : "int64",
            "description" : "amount including all surcharges and less all fees, in pence. Only available depending on payment service provider",
            "example" : 1195,
            "readOnly" : true
          },
          "payment_id" : {
            "type" : "string",
            "example" : "hu20sqlact5260q2nanm0q8u93",
            "readOnly" : true
          },
          "payment_provider" : {
            "type" : "string",
            "example" : "worldpay",
            "readOnly" : true
          },
          "provider_id" : {
            "type" : "string",
            "example" : "reference-from-payment-gateway",
            "readOnly" : true
          },
          "reference" : {
            "type" : "string",
            "example" : "your-reference"
          },
          "refund_summary" : {
            "$ref" : "#/components/schemas/RefundSummary"
          },
          "return_url" : {
            "type" : "string",
            "example" : "http://your.service.domain/your-reference",
            "readOnly" : true
          },
          "settlement_summary" : {
            "$ref" : "#/components/schemas/PaymentSettlementSummary"
          },
          "state" : {
            "$ref" : "#/components/schemas/PaymentState"
          },
          "total_amount" : {
            "type" : "integer",
            "format" : "int64",
            "example" : 1450,
            "readOnly" : true
          }
        }
      },
      "Link" : {
        "type" : "object",
        "description" : "A link related to a payment",
        "properties" : {
          "href" : {
            "type" : "string",
            "example" : "https://an.example.link/from/payment/platform",
            "readOnly" : true
          },
          "method" : {
            "type" : "string",
            "example" : "GET",
            "readOnly" : true
          }
        }
      },
      "PaymentDetailForSearch" : {
        "type" : "object",
        "properties" : {
          "_links" : {
            "$ref" : "#/components/schemas/PaymentLinksForSearch"
          },
          "amount" : {
            "type" : "integer",
            "format" : "int64",
            "example" : 1200
          },
          "authorisation_summary" : {
            "$ref" : "#/components/schemas/AuthorisationSummary"
          },
          "card_brand" : {
            "type" : "string",
            "deprecated" : true,
            "description" : "Card Brand. Deprecated, please use card_details.card_brand instead",
            "example" : "Visa",
            "readOnly" : true
          },
          "card_details" : {
            "$ref" : "#/components/schemas/CardDetails"
          },
          "corporate_card_surcharge" : {
            "type" : "integer",
            "format" : "int64",
            "example" : 250,
            "readOnly" : true
          },
          "created_date" : {
            "type" : "string",
            "example" : "2016-01-21T17:15:000Z",
            "readOnly" : true
          },
          "delayed_capture" : {
            "type" : "boolean",
            "description" : "delayed capture flag",
            "example" : false,
            "readOnly" : true
          },
          "description" : {
            "type" : "string",
            "example" : "Your Service Description"
          },
          "email" : {
            "type" : "string",
            "example" : "your email"
          },
          "fee" : {
            "type" : "integer",
            "format" : "int64",
            "description" : "processing fee taken by the GOV.UK Pay platform, in pence. Only available depending on payment service provider",
            "example" : 5,
            "readOnly" : true
          },
          "language" : {
            "type" : "string",
            "enum" : [ "en", "cy" ],
            "example" : "en"
          },
          "metadata" : {
            "$ref" : "#/components/schemas/ExternalMetadata"
          },
          "moto" : {
            "type" : "boolean",
            "description" : "Mail Order / Telephone Order (MOTO) payment flag",
            "example" : false
          },
          "net_amount" : {
            "type" : "integer",
            "format" : "int64",
            "description" : "amount including all surcharges and less all fees, in pence. Only available depending on payment service provider",
            "example" : 1195,
            "readOnly" : true
          },
          "payment_id" : {
            "type" : "string",
            "example" : "hu20sqlact5260q2nanm0q8u93",
            "readOnly" : true
          },
          "payment_provider" : {
            "type" : "string",
            "example" : "worldpay",
            "readOnly" : true
          },
          "provider_id" : {
            "type" : "string",
            "example" : "reference-from-payment-gateway",
            "readOnly" : true
          },
          "reference" : {
            "type" : "string",
            "example" : "your-reference"
          },
          "refund_summary" : {
            "$ref" : "#/components/schemas/RefundSummary"
          },
          "return_url" : {
            "type" : "string",
            "example" : "http://your.service.domain/your-reference",
            "readOnly" : true
          },
          "settlement_summary" : {
            "$ref" : "#/components/schemas/PaymentSettlementSummary"
          },
          "state" : {
            "$ref" : "#/components/schemas/PaymentState"
          },
          "total_amount" : {
            "type" : "integer",
            "format" : "int64",
            "example" : 1450,
            "readOnly" : true
          }
        }
      },
      "PaymentError" : {
        "type" : "object",
        "description" : "A Payment Error response",
        "properties" : {
          "code" : {
            "type" : "string",
            "example" : "P0102"
          },
          "description" : {
            "type" : "string",
            "example" : "Invalid attribute value: amount. Must be less than or equal to 10000000"
          },
          "field" : {
            "type" : "string",
            "example" : "amount"
          }
        }
      },
      "PaymentEvent" : {
        "type" : "object",
        "description" : "A List of Payment Events information",
        "properties" : {
          "_links" : {
            "$ref" : "#/components/schemas/PaymentEventLink"
          },
          "payment_id" : {
            "type" : "string",
            "example" : "hu20sqlact5260q2nanm0q8u93",
            "readOnly" : true
          },
          "state" : {
            "$ref" : "#/components/schemas/PaymentState"
          },
          "updated" : {
            "type" : "string",
            "description" : "updated",
            "example" : "2017-01-10T16:44:48.646Z",
            "readOnly" : true
          }
        }
      },
      "PaymentEventLink" : {
        "type" : "object",
        "description" : "Resource link for a payment of a payment event",
        "properties" : {
          "payment_url" : {
            "$ref" : "#/components/schemas/Link"
          }
        }
      },
      "PaymentEvents" : {
        "type" : "object",
        "description" : "A List of Payment Events information",
        "properties" : {
          "_links" : {
            "$ref" : "#/components/schemas/PaymentLinksForEvents"
          },
          "events" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/PaymentEvent"
            }
          },
          "payment_id" : {
            "type" : "string",
            "example" : "hu20sqlact5260q2nanm0q8u93",
            "readOnly" : true
          }
        }
      },
      "PaymentLinks" : {
        "type" : "object",
        "description" : "links for payment",
        "properties" : {
          "cancel" : {
            "$ref" : "#/components/schemas/PostLink"
          },
          "capture" : {
            "$ref" : "#/components/schemas/PostLink"
          },
          "events" : {
            "$ref" : "#/components/schemas/Link"
          },
          "next_url" : {
            "$ref" : "#/components/schemas/Link"
          },
          "next_url_post" : {
            "$ref" : "#/components/schemas/PostLink"
          },
          "refunds" : {
            "$ref" : "#/components/schemas/Link"
          },
          "self" : {
            "$ref" : "#/components/schemas/Link"
          }
        }
      },
      "PaymentLinksForEvents" : {
        "type" : "object",
        "description" : "links for events resource",
        "properties" : {
          "self" : {
            "$ref" : "#/components/schemas/Link"
          }
        }
      },
      "PaymentLinksForSearch" : {
        "type" : "object",
        "description" : "links for search payment resource",
        "properties" : {
          "cancel" : {
            "$ref" : "#/components/schemas/PostLink"
          },
          "capture" : {
            "$ref" : "#/components/schemas/PostLink"
          },
          "events" : {
            "$ref" : "#/components/schemas/Link"
          },
          "refunds" : {
            "$ref" : "#/components/schemas/Link"
          },
          "self" : {
            "$ref" : "#/components/schemas/Link"
          }
        }
      },
      "PaymentRefundRequest" : {
        "type" : "object",
        "description" : "The Payment Refund Request Payload",
        "properties" : {
          "amount" : {
            "type" : "integer",
            "format" : "int32",
            "description" : "Amount in pence. Can't be more than the available amount for refunds",
            "example" : 150000,
            "maximum" : 10000000,
            "minimum" : 1
          },
          "refund_amount_available" : {
            "type" : "integer",
            "format" : "int32",
            "description" : "Amount in pence. Total amount still available before issuing the refund",
            "example" : 200000,
            "maximum" : 10000000,
            "minimum" : 1,
            "readOnly" : true
          }
        },
        "required" : [ "amount" ]
      },
      "PaymentSearchResults" : {
        "type" : "object",
        "properties" : {
          "_links" : {
            "$ref" : "#/components/schemas/SearchNavigationLinks"
          },
          "count" : {
            "type" : "integer",
            "format" : "int32",
            "example" : 20
          },
          "page" : {
            "type" : "integer",
            "format" : "int32",
            "example" : 1
          },
          "results" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/PaymentDetailForSearch"
            }
          },
          "total" : {
            "type" : "integer",
            "format" : "int32",
            "example" : 100
          }
        }
      },
      "PaymentSettlementSummary" : {
        "type" : "object",
        "description" : "A structure representing information about a settlement",
        "properties" : {
          "capture_submit_time" : {
            "type" : "string",
            "description" : "Date and time capture request has been submitted. May be null if capture request was not immediately acknowledged by payment gateway.",
            "example" : "2016-01-21T17:15:000Z",
            "readOnly" : true
          },
          "captured_date" : {
            "type" : "string",
            "description" : "Date of the capture event.",
            "example" : "2016-01-21",
            "readOnly" : true
          },
          "settled_date" : {
            "type" : "string",
            "description" : "The date that the transaction was paid into the service's account.",
            "example" : "2016-01-21",
            "readOnly" : true
          }
        }
      },
      "PaymentState" : {
        "type" : "object",
        "description" : "A structure representing the current state of the payment in its lifecycle.",
        "properties" : {
          "code" : {
            "type" : "string",
            "description" : "What went wrong with the Payment if it finished with an error - error code",
            "example" : "P010",
            "readOnly" : true
          },
          "finished" : {
            "type" : "boolean",
            "description" : "Whether the payment has finished",
            "readOnly" : true
          },
          "message" : {
            "type" : "string",
            "description" : "What went wrong with the Payment if it finished with an error - English message",
            "example" : "User cancelled the payment",
            "readOnly" : true
          },
          "status" : {
            "type" : "string",
            "description" : "Current progress of the payment in its lifecycle",
            "example" : "created",
            "readOnly" : true
          }
        }
      },
      "PostLink" : {
        "type" : "object",
        "description" : "A POST link related to a payment",
        "properties" : {
          "href" : {
            "type" : "string",
            "example" : "https://an.example.link/from/payment/platform",
            "readOnly" : true
          },
          "method" : {
            "type" : "string",
            "example" : "POST",
            "readOnly" : true
          },
          "params" : {
            "type" : "object",
            "additionalProperties" : {
              "type" : "object",
              "example" : {
                "description" : "This is a value for a parameter called description"
              }
            },
            "example" : {
              "description" : "This is a value for a parameter called description"
            }
          },
          "type" : {
            "type" : "string",
            "example" : "application/x-www-form-urlencoded"
          }
        }
      },
      "PrefilledCardholderDetails" : {
        "type" : "object",
        "description" : "prefilled_cardholder_details",
        "properties" : {
          "billing_address" : {
            "$ref" : "#/components/schemas/Address"
          },
          "cardholder_name" : {
            "type" : "string",
            "description" : "prefilled cardholder name",
            "example" : "J. Bogs",
            "maxLength" : 255,
            "minLength" : 0
          }
        }
      },
      "Refund" : {
        "type" : "object",
        "properties" : {
          "_links" : {
            "$ref" : "#/components/schemas/RefundLinksForSearch"
          },
          "amount" : {
            "type" : "integer",
            "format" : "int64",
            "example" : 120,
            "readOnly" : true
          },
          "created_date" : {
            "type" : "string",
            "example" : "2017-01-10T16:52:07.855Z",
            "readOnly" : true
          },
          "refund_id" : {
            "type" : "string",
            "example" : "act4c33g40j3edfmi8jknab84x",
            "readOnly" : true
          },
          "settlement_summary" : {
            "$ref" : "#/components/schemas/RefundSettlementSummary"
          },
          "status" : {
            "type" : "string",
            "enum" : [ "submitted", "success", "error" ],
            "example" : "success",
            "readOnly" : true
          }
        }
      },
      "RefundDetailForSearch" : {
        "type" : "object",
        "properties" : {
          "_links" : {
            "$ref" : "#/components/schemas/RefundLinksForSearch"
          },
          "amount" : {
            "type" : "integer",
            "format" : "int64",
            "example" : 120,
            "readOnly" : true
          },
          "created_date" : {
            "type" : "string",
            "example" : "2017-01-10T16:52:07.855Z",
            "readOnly" : true
          },
          "refund_id" : {
            "type" : "string",
            "example" : "act4c33g40j3edfmi8jknab84x",
            "readOnly" : true
          },
          "settlement_summary" : {
            "$ref" : "#/components/schemas/RefundSettlementSummary"
          },
          "status" : {
            "type" : "string",
            "enum" : [ "submitted", "success", "error" ],
            "example" : "success",
            "readOnly" : true
          }
        }
      },
      "RefundError" : {
        "type" : "object",
        "description" : "A Refund Error response",
        "properties" : {
          "code" : {
            "type" : "string",
            "example" : "P0102"
          },
          "description" : {
            "type" : "string",
            "example" : "Invalid attribute value: amountSubmitted. Must be less than or equal to 10000000"
          },
          "field" : {
            "type" : "string",
            "example" : "amount_submitted"
          }
        }
      },
      "RefundForSearchResult" : {
        "type" : "object",
        "properties" : {
          "_embedded" : {
            "$ref" : "#/components/schemas/EmbeddedRefunds"
          },
          "_links" : {
            "$ref" : "#/components/schemas/RefundLinksForSearch"
          },
          "payment_id" : {
            "type" : "string",
            "example" : "hu20sqlact5260q2nanm0q8u93"
          }
        }
      },
      "RefundLinksForSearch" : {
        "type" : "object",
        "description" : "links for search refunds resource",
        "properties" : {
          "payment" : {
            "$ref" : "#/components/schemas/Link"
          },
          "self" : {
            "$ref" : "#/components/schemas/Link"
          }
        }
      },
      "RefundSearchResults" : {
        "type" : "object",
        "properties" : {
          "_links" : {
            "$ref" : "#/components/schemas/SearchNavigationLinks"
          },
          "count" : {
            "type" : "integer",
            "format" : "int32",
            "example" : 20
          },
          "page" : {
            "type" : "integer",
            "format" : "int32",
            "example" : 1
          },
          "results" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/RefundDetailForSearch"
            }
          },
          "total" : {
            "type" : "integer",
            "format" : "int32",
            "example" : 100
          }
        }
      },
      "RefundSettlementSummary" : {
        "type" : "object",
        "description" : "A structure representing information about a settlement for refunds",
        "properties" : {
          "settled_date" : {
            "type" : "string",
            "description" : "The date that the transaction was refunded from the service's account.",
            "example" : "2016-01-21",
            "readOnly" : true
          }
        },
        "readOnly" : true
      },
      "RefundSummary" : {
        "type" : "object",
        "description" : "A structure representing the refunds availability",
        "properties" : {
          "amount_available" : {
            "type" : "integer",
            "format" : "int64",
            "description" : "Amount available for refund in pence",
            "example" : 100,
            "readOnly" : true
          },
          "amount_submitted" : {
            "type" : "integer",
            "format" : "int64",
            "description" : "Amount submitted for refunds on this Payment in pence",
            "readOnly" : true
          },
          "status" : {
            "type" : "string",
            "description" : "Availability status of the refund",
            "example" : "available"
          }
        }
      },
      "RefundsResponse" : {
        "type" : "object",
        "properties" : {
          "_links" : {
            "$ref" : "#/components/schemas/RefundLinksForSearch"
          },
          "payment_id" : {
            "type" : "string",
            "example" : "hu20sqlact5260q2nanm0q8u93"
          }
        }
      },
      "SearchNavigationLinks" : {
        "type" : "object",
        "description" : "Links to navigate through pages",
        "properties" : {
          "first_page" : {
            "$ref" : "#/components/schemas/Link"
          },
          "last_page" : {
            "$ref" : "#/components/schemas/Link"
          },
          "next_page" : {
            "$ref" : "#/components/schemas/Link"
          },
          "prev_page" : {
            "$ref" : "#/components/schemas/Link"
          },
          "self" : {
            "$ref" : "#/components/schemas/Link"
          }
        }
      },
      "ThreeDSecure" : {
        "type" : "object",
        "description" : "Object containing information about the 3D Secure authentication of the payment.",
        "properties" : {
          "required" : {
            "type" : "boolean",
            "description" : "Flag indicating whether the payment required 3D Secure authentication."
          }
        }
      }
    },
    "securitySchemes" : {
      "BearerAuth" : {
        "description" : "<br> The Authorisation token needs to be specified in the 'Authorization' header as `Authorization: Bearer YOUR_API_KEY_HERE`",
        "scheme" : "bearer",
        "type" : "http"
      }
    }
  }
}
